<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Shorts Y√∂neticisi</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #141414;
            --bg-tertiary: #1a1a1a;
            --bg-card: #1e1e1e;
            --accent: #ff0033;
            --accent-hover: #ff3355;
            --accent-glow: rgba(255, 0, 51, 0.3);
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --text-muted: #666666;
            --border: #2a2a2a;
            --success: #00ff88;
            --warning: #ffaa00;
            --info: #00aaff;
            --gradient-1: linear-gradient(135deg, #ff0033 0%, #ff6600 100%);
            --gradient-2: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 20%, var(--accent-glow) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255, 102, 0, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 1;
        }

        header {
            position: relative;
            z-index: 10;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            backdrop-filter: blur(10px);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: var(--gradient-1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 20px var(--accent-glow);
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .container {
            position: relative;
            z-index: 10;
            display: flex;
            min-height: calc(100vh - 80px);
        }

        .sidebar {
            width: 280px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .sidebar-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .channel-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
            flex: 1;
            overflow-y: auto;
        }

        .channel-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .channel-item:hover {
            border-color: var(--accent);
            transform: translateX(4px);
        }

        .channel-item.active {
            background: var(--accent);
            border-color: var(--accent);
        }

        .channel-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--gradient-1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .channel-info {
            flex: 1;
            min-width: 0;
        }

        .channel-name {
            font-weight: 600;
            font-size: 0.9rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .channel-count {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .channel-item.active .channel-count {
            color: rgba(255, 255, 255, 0.7);
        }

        .delete-channel {
            opacity: 0;
            background: rgba(255, 0, 0, 0.2);
            border: none;
            color: #ff4444;
            width: 24px;
            height: 24px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .channel-item:hover .delete-channel {
            opacity: 1;
        }

        .delete-channel:hover {
            background: rgba(255, 0, 0, 0.4);
        }

        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        .content-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
        }

        .content-title {
            font-size: 2rem;
            font-weight: 700;
        }

        .content-subtitle {
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 2rem;
            background: var(--bg-secondary);
            padding: 6px;
            border-radius: 12px;
            width: fit-content;
        }

        .tab {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            font-family: inherit;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab:hover {
            color: var(--text-primary);
        }

        .tab.active {
            background: var(--accent);
            color: white;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            border: none;
            font-family: inherit;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--gradient-1);
            color: white;
            box-shadow: 0 4px 15px var(--accent-glow);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px var(--accent-glow);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--accent);
        }

        .btn-danger {
            background: rgba(255, 0, 0, 0.1);
            color: #ff4444;
            border: 1px solid rgba(255, 0, 0, 0.3);
        }

        .btn-danger:hover {
            background: rgba(255, 0, 0, 0.2);
        }

        .btn-success {
            background: rgba(0, 255, 136, 0.1);
            color: var(--success);
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .btn-success:hover {
            background: rgba(0, 255, 136, 0.2);
        }

        .btn-info {
            background: rgba(0, 170, 255, 0.1);
            color: var(--info);
            border: 1px solid rgba(0, 170, 255, 0.3);
        }

        .btn-info:hover {
            background: rgba(0, 170, 255, 0.2);
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 0.8rem;
        }

        .btn-xs {
            padding: 4px 10px;
            font-size: 0.75rem;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1.5rem;
        }

        .video-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .video-card:hover {
            border-color: var(--accent);
            transform: translateY(-4px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .video-card.completed {
            opacity: 0.7;
        }

        .video-card.completed .video-title {
            text-decoration: line-through;
            color: var(--text-muted);
        }

        .video-frame {
            aspect-ratio: 9/16;
            background: var(--bg-tertiary);
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            max-height: 280px;
        }

        .video-frame-icon {
            font-size: 48px;
            margin-bottom: 8px;
        }

        .video-frame-text {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .video-badges {
            position: absolute;
            top: 12px;
            right: 12px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .badge-audio {
            background: var(--success);
            color: black;
        }

        .badge-video-pending {
            background: var(--warning);
            color: black;
        }

        .badge-video-approved {
            background: var(--info);
            color: white;
        }

        .badge-completed {
            background: var(--success);
            color: black;
        }

        .video-schedule {
            position: absolute;
            bottom: 12px;
            left: 12px;
            background: rgba(0, 0, 0, 0.8);
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .video-content {
            padding: 1rem;
        }

        .video-title {
            font-weight: 600;
            font-size: 1rem;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .video-description {
            color: var(--text-secondary);
            font-size: 0.85rem;
            margin-bottom: 12px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .video-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 12px;
        }

        .tag {
            background: var(--bg-tertiary);
            color: var(--accent);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .video-actions {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .table-container {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1000px;
        }

        th, td {
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-tertiary);
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--text-secondary);
        }

        tr:hover td {
            background: var(--bg-tertiary);
        }

        tr.completed td {
            opacity: 0.6;
        }

        tr.completed .table-title {
            text-decoration: line-through;
        }

        td {
            font-size: 0.9rem;
        }

        .table-title {
            font-weight: 600;
            max-width: 150px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .table-tags {
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
            max-width: 150px;
        }

        .table-actions {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .status-ready {
            background: rgba(0, 255, 136, 0.1);
            color: var(--success);
        }

        .status-pending {
            background: rgba(255, 170, 0, 0.1);
            color: var(--warning);
        }

        .status-approved {
            background: rgba(0, 170, 255, 0.1);
            color: var(--info);
        }

        .status-completed {
            background: rgba(0, 255, 136, 0.2);
            color: var(--success);
        }

        .defaults-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .defaults-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
            cursor: pointer;
        }

        .defaults-title {
            font-size: 1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .defaults-content {
            color: var(--text-secondary);
            font-size: 0.9rem;
            white-space: pre-wrap;
            line-height: 1.6;
        }

        .defaults-content.collapsed {
            display: none;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 6px;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 12px 14px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px var(--accent-glow);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .file-upload {
            position: relative;
            border: 2px dashed var(--border);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            border-color: var(--accent);
            background: rgba(255, 0, 51, 0.05);
        }

        .file-upload input {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .file-upload-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }

        .file-upload-text {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        .file-name {
            margin-top: 6px;
            color: var(--success);
            font-size: 0.8rem;
            font-weight: 500;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.9);
            transition: all 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            border: none;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--accent);
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
        }

        .empty-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .empty-text {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 2000;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .toast {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .toast-success {
            border-color: var(--success);
        }

        .toast-icon {
            font-size: 1.2rem;
        }

        .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .checkbox.checked {
            background: var(--success);
            border-color: var(--success);
        }

        .checkbox-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            
            .video-grid {
                grid-template-columns: 1fr;
            }

            header {
                padding: 1rem;
            }

            .main-content {
                padding: 1rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div class="noise-overlay"></div>

    <header>
        <div class="logo">
            <div class="logo-icon">‚ñ∂</div>
            <h1>Shorts Manager</h1>
        </div>
        <div class="header-actions">
            <button class="btn btn-secondary" onclick="exportData()">
                üì• Dƒ±≈üa Aktar
            </button>
            <button class="btn btn-secondary" onclick="importDataClick()">
                üì§ ƒ∞√ße Aktar
            </button>
            <input type="file" id="importFile" accept=".json" style="display:none" onchange="importData(event)">
        </div>
    </header>

    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-title">Kanallarƒ±m</div>
            <div class="channel-list" id="channelList"></div>
            <button class="btn btn-primary" onclick="openChannelModal()" style="width: 100%;">
                + Kanal Ekle
            </button>
        </aside>

        <main class="main-content" id="mainContent"></main>
    </div>

    <!-- Channel Modal -->
    <div class="modal-overlay" id="channelModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="channelModalTitle">Yeni Kanal</h3>
                <button class="modal-close" onclick="closeChannelModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Kanal Adƒ±</label>
                    <input type="text" class="form-input" id="channelName" placeholder="√ñrn: Gaming Channel">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeChannelModal()">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveChannel()">Kaydet</button>
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div class="modal-overlay" id="videoModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="videoModalTitle">Yeni Video</h3>
                <button class="modal-close" onclick="closeVideoModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Ba≈ülƒ±k *</label>
                    <input type="text" class="form-input" id="videoTitle" placeholder="Video ba≈ülƒ±ƒüƒ±nƒ± girin">
                </div>
                <div class="form-group">
                    <label class="form-label">A√ßƒ±klama</label>
                    <textarea class="form-textarea" id="videoDescription" placeholder="Video a√ßƒ±klamasƒ±..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">Etiketler (virg√ºlle ayƒ±rƒ±n)</label>
                    <input type="text" class="form-input" id="videoTags" placeholder="komedi, eƒülence, viral">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">üìÖ Tarih</label>
                        <input type="date" class="form-input" id="videoDate">
                    </div>
                    <div class="form-group">
                        <label class="form-label">üïê Saat</label>
                        <input type="time" class="form-input" id="videoTime">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">üéµ Ses Dosyasƒ±</label>
                    <div class="file-upload" id="audioUpload">
                        <div class="file-upload-icon">üéµ</div>
                        <div class="file-upload-text">Ses dosyasƒ± y√ºklemek i√ßin tƒ±klayƒ±n</div>
                        <div class="file-name" id="audioFileName"></div>
                        <input type="file" accept="audio/*" id="audioFile" onchange="handleAudioUpload(event)">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">üé¨ Video Dosyasƒ± (MP4)</label>
                    <div class="file-upload" id="videoUpload">
                        <div class="file-upload-icon">üé¨</div>
                        <div class="file-upload-text">Video dosyasƒ± y√ºklemek i√ßin tƒ±klayƒ±n</div>
                        <div class="file-name" id="videoFileName"></div>
                        <input type="file" accept="video/mp4" id="videoFile" onchange="handleVideoUpload(event)">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Metin (Video √ºzerinde g√∂sterilecek)</label>
                    <textarea class="form-textarea" id="videoText" placeholder="Video √ºzerinde g√∂sterilecek metin..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeVideoModal()">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveVideo()">Kaydet</button>
            </div>
        </div>
    </div>

    <!-- Defaults Modal -->
    <div class="modal-overlay" id="defaultsModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Sabit Deƒüerleri D√ºzenle</h3>
                <button class="modal-close" onclick="closeDefaultsModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Sabit Metin (Her videoya eklenecek bilgiler)</label>
                    <textarea class="form-textarea" id="defaultText" rows="10" placeholder="Buraya sabit kalmasƒ±nƒ± istediƒüiniz metni yazƒ±n...&#10;&#10;√ñrnek:&#10;üì± Instagram: @kanalim&#10;üéµ TikTok: @kanalim&#10;üìß ƒ∞leti≈üim: mail@example.com"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeDefaultsModal()">ƒ∞ptal</button>
                <button class="btn btn-primary" onclick="saveDefaults()">Kaydet</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script>
        let data = {
            channels: [],
            selectedChannel: null
        };
        let currentView = 'grid';
        let editingVideoId = null;
        let audioBase64 = null;
        let audioName = null;
        let videoBase64 = null;
        let videoName = null;

        const STORAGE_KEY = 'youtube-shorts-manager';

        async function saveData() {
            try {
                localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
                if (window.storage) {
                    await window.storage.set(STORAGE_KEY, JSON.stringify(data), true);
                }
            } catch (e) {
                console.log('Storage save error:', e);
            }
        }

        async function loadData() {
            try {
                if (window.storage) {
                    try {
                        const result = await window.storage.get(STORAGE_KEY, true);
                        if (result && result.value) {
                            data = JSON.parse(result.value);
                            return;
                        }
                    } catch (e) {
                        console.log('Cloud storage not available, using localStorage');
                    }
                }
                const saved = localStorage.getItem(STORAGE_KEY);
                if (saved) {
                    data = JSON.parse(saved);
                }
            } catch (e) {
                console.log('Storage load error:', e);
            }
        }

        async function init() {
            await loadData();
            renderChannels();
            if (data.channels.length > 0) {
                selectChannel(data.selectedChannel || data.channels[0].id);
            } else {
                renderEmptyState();
            }
        }

        function renderChannels() {
            const list = document.getElementById('channelList');
            list.innerHTML = data.channels.map(channel => `
                <div class="channel-item ${data.selectedChannel === channel.id ? 'active' : ''}" 
                     onclick="selectChannel('${channel.id}')">
                    <div class="channel-avatar">${channel.name.charAt(0).toUpperCase()}</div>
                    <div class="channel-info">
                        <div class="channel-name">${escapeHtml(channel.name)}</div>
                        <div class="channel-count">${channel.videos.length} video</div>
                    </div>
                    <button class="delete-channel" onclick="event.stopPropagation(); deleteChannel('${channel.id}')">üóë</button>
                </div>
            `).join('');
        }

        function selectChannel(id) {
            data.selectedChannel = id;
            saveData();
            renderChannels();
            renderContent();
        }

        function getSelectedChannel() {
            return data.channels.find(c => c.id === data.selectedChannel);
        }

        function openChannelModal() {
            document.getElementById('channelName').value = '';
            document.getElementById('channelModalTitle').textContent = 'Yeni Kanal';
            document.getElementById('channelModal').classList.add('active');
        }

        function closeChannelModal() {
            document.getElementById('channelModal').classList.remove('active');
        }

        function saveChannel() {
            const name = document.getElementById('channelName').value.trim();
            if (!name) {
                showToast('Kanal adƒ± gerekli!', 'error');
                return;
            }

            const channel = {
                id: generateId(),
                name: name,
                videos: [],
                defaults: {
                    text: ''
                }
            };

            data.channels.push(channel);
            data.selectedChannel = channel.id;
            saveData();
            closeChannelModal();
            renderChannels();
            renderContent();
            showToast('Kanal eklendi!', 'success');
        }

        function deleteChannel(id) {
            if (!confirm('Bu kanalƒ± silmek istediƒüinize emin misiniz?')) return;
            
            data.channels = data.channels.filter(c => c.id !== id);
            if (data.selectedChannel === id) {
                data.selectedChannel = data.channels.length > 0 ? data.channels[0].id : null;
            }
            saveData();
            renderChannels();
            if (data.selectedChannel) {
                renderContent();
            } else {
                renderEmptyState();
            }
            showToast('Kanal silindi!', 'success');
        }

        function renderContent() {
            const channel = getSelectedChannel();
            if (!channel) {
                renderEmptyState();
                return;
            }

            const main = document.getElementById('mainContent');
            main.innerHTML = `
                <div class="content-header">
                    <div>
                        <h2 class="content-title">${escapeHtml(channel.name)}</h2>
                        <p class="content-subtitle">${channel.videos.length} video</p>
                    </div>
                    <button class="btn btn-primary" onclick="openVideoModal()">
                        + Video Ekle
                    </button>
                </div>

                <div class="defaults-section">
                    <div class="defaults-header" onclick="toggleDefaults()">
                        <div class="defaults-title">
                            üìå Sabitler
                        </div>
                        <button class="btn btn-sm btn-secondary" onclick="event.stopPropagation(); openDefaultsModal()">
                            D√ºzenle
                        </button>
                    </div>
                    <div class="defaults-content ${!channel.defaults.text ? 'collapsed' : ''}" id="defaultsContent">
                        ${channel.defaults.text ? escapeHtml(channel.defaults.text) : '<span style="color: var(--text-muted); font-style: italic;">Hen√ºz sabit deƒüer eklenmemi≈ü</span>'}
                    </div>
                </div>

                <div class="tabs">
                    <button class="tab ${currentView === 'grid' ? 'active' : ''}" onclick="switchView('grid')">üì± Kart G√∂r√ºn√ºm√º</button>
                    <button class="tab ${currentView === 'table' ? 'active' : ''}" onclick="switchView('table')">üìã Tablo G√∂r√ºn√ºm√º</button>
                </div>

                <div id="videoContainer">
                    ${channel.videos.length === 0 ? renderVideoEmptyState() : 
                      currentView === 'grid' ? renderVideoGrid(channel) : renderVideoTable(channel)}
                </div>
            `;
        }

        function renderVideoEmptyState() {
            return `
                <div class="empty-state">
                    <div class="empty-icon">üì±</div>
                    <h3 class="empty-title">Hen√ºz video yok</h3>
                    <p class="empty-text">Bu kanala ilk videonuzu ekleyin</p>
                    <button class="btn btn-primary" onclick="openVideoModal()">+ Video Ekle</button>
                </div>
            `;
        }

        function renderVideoGrid(channel) {
            return `
                <div class="video-grid">
                    ${channel.videos.map(video => `
                        <div class="video-card ${video.completed ? 'completed' : ''}">
                            <div class="video-frame">
                                <div class="video-frame-icon">üì±</div>
                                <div class="video-frame-text">YouTube Short</div>
                                <div class="video-badges">
                                    ${video.completed ? '<span class="badge badge-completed">‚úì Tamamlandƒ±</span>' : ''}
                                    ${video.audioName ? '<span class="badge badge-audio">üéµ Ses</span>' : ''}
                                    ${video.videoName ? (video.videoApproved ? 
                                        '<span class="badge badge-video-approved">‚úì Onaylandƒ±</span>' : 
                                        '<span class="badge badge-video-pending">‚è≥ Onay Bekliyor</span>') : ''}
                                </div>
                                ${video.scheduleDate || video.scheduleTime ? `
                                    <div class="video-schedule">
                                        ${video.scheduleDate ? `üìÖ ${formatDate(video.scheduleDate)}` : ''}
                                        ${video.scheduleTime ? ` üïê ${video.scheduleTime}` : ''}
                                    </div>
                                ` : ''}
                            </div>
                            <div class="video-content">
                                <h4 class="video-title">${escapeHtml(video.title)}</h4>
                                ${video.description ? `<p class="video-description">${escapeHtml(video.description)}</p>` : ''}
                                ${video.tags ? `
                                    <div class="video-tags">
                                        ${video.tags.split(',').map(t => t.trim()).filter(t => t).slice(0, 4).map(t => `<span class="tag">#${escapeHtml(t)}</span>`).join('')}
                                    </div>
                                ` : ''}
                                <div class="video-actions">
                                    <button class="btn btn-xs ${video.completed ? 'btn-secondary' : 'btn-success'}" onclick="toggleComplete('${video.id}')">
                                        ${video.completed ? '‚Ü© Geri Al' : '‚úì Tamamla'}
                                    </button>
                                    ${video.audioBase64 ? `<button class="btn btn-xs btn-info" onclick="downloadAudio('${video.id}')">üì• Ses</button>` : ''}
                                    ${video.videoName && !video.videoApproved ? `<button class="btn btn-xs btn-success" onclick="approveVideo('${video.id}')">‚úì Onayla</button>` : ''}
                                    <button class="btn btn-xs btn-secondary" onclick="editVideo('${video.id}')">‚úèÔ∏è</button>
                                    <button class="btn btn-xs btn-danger" onclick="deleteVideo('${video.id}')">üóë</button>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function renderVideoTable(channel) {
            return `
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Durum</th>
                                <th>Ba≈ülƒ±k</th>
                                <th>A√ßƒ±klama</th>
                                <th>Etiketler</th>
                                <th>Tarih/Saat</th>
                                <th>Ses</th>
                                <th>Video</th>
                                <th>ƒ∞≈ülemler</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${channel.videos.map(video => `
                                <tr class="${video.completed ? 'completed' : ''}">
                                    <td>
                                        <div class="checkbox-wrapper" onclick="toggleComplete('${video.id}')">
                                            <div class="checkbox ${video.completed ? 'checked' : ''}">${video.completed ? '‚úì' : ''}</div>
                                        </div>
                                    </td>
                                    <td class="table-title">${escapeHtml(video.title)}</td>
                                    <td style="max-width: 150px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                                        ${escapeHtml(video.description || '-')}
                                    </td>
                                    <td>
                                        <div class="table-tags">
                                            ${video.tags ? video.tags.split(',').map(t => t.trim()).filter(t => t).slice(0, 2).map(t => `<span class="tag">#${escapeHtml(t)}</span>`).join('') : '-'}
                                        </div>
                                    </td>
                                    <td style="white-space: nowrap;">
                                        ${video.scheduleDate ? `üìÖ ${formatDate(video.scheduleDate)}` : ''}
                                        ${video.scheduleTime ? `<br>üïê ${video.scheduleTime}` : ''}
                                        ${!video.scheduleDate && !video.scheduleTime ? '-' : ''}
                                    </td>
                                    <td>
                                        ${video.audioName ? `
                                            <div style="display: flex; align-items: center; gap: 6px;">
                                                <span style="font-size: 0.8rem; max-width: 100px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">üéµ ${escapeHtml(video.audioName)}</span>
                                                <button class="btn btn-xs btn-info" onclick="downloadAudio('${video.id}')">üì•</button>
                                            </div>
                                        ` : '-'}
                                    </td>
                                    <td>
                                        ${video.videoName ? `
                                            <div style="display: flex; flex-direction: column; gap: 4px;">
                                                <span class="status-badge ${video.videoApproved ? 'status-approved' : 'status-pending'}">
                                                    ${video.videoApproved ? '‚úì Onaylandƒ±' : '‚è≥ Onay Bekliyor'}
                                                </span>
                                                ${!video.videoApproved ? `<button class="btn btn-xs btn-success" onclick="approveVideo('${video.id}')">Onayla</button>` : ''}
                                            </div>
                                        ` : '-'}
                                    </td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="btn btn-xs btn-secondary" onclick="editVideo('${video.id}')">‚úèÔ∏è</button>
                                            <button class="btn btn-xs btn-danger" onclick="deleteVideo('${video.id}')">üóë</button>
                                        </div>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
        }

        function renderEmptyState() {
            const main = document.getElementById('mainContent');
            main.innerHTML = `
                <div class="empty-state">
                    <div class="empty-icon">üì∫</div>
                    <h3 class="empty-title">Ho≈ü Geldiniz!</h3>
                    <p class="empty-text">YouTube Shorts videolarƒ±nƒ±zƒ± organize etmeye ba≈ülamak i√ßin ilk kanalƒ±nƒ±zƒ± olu≈üturun</p>
                    <button class="btn btn-primary" onclick="openChannelModal()">+ Kanal Olu≈ütur</button>
                </div>
            `;
        }

        function switchView(view) {
            currentView = view;
            renderContent();
        }

        function toggleDefaults() {
            const content = document.getElementById('defaultsContent');
            content.classList.toggle('collapsed');
        }

        function openVideoModal(videoId = null) {
            const channel = getSelectedChannel();
            editingVideoId = videoId;
            audioBase64 = null;
            audioName = null;
            videoBase64 = null;
            videoName = null;

            if (videoId) {
                const video = channel.videos.find(v => v.id === videoId);
                document.getElementById('videoTitle').value = video.title;
                document.getElementById('videoDescription').value = video.description || '';
                document.getElementById('videoTags').value = video.tags || '';
                document.getElementById('videoDate').value = video.scheduleDate || '';
                document.getElementById('videoTime').value = video.scheduleTime || '';
                document.getElementById('videoText').value = video.text || '';
                document.getElementById('audioFileName').textContent = video.audioName || '';
                document.getElementById('videoFileName').textContent = video.videoName || '';
                document.getElementById('videoModalTitle').textContent = 'Videoyu D√ºzenle';
                audioBase64 = video.audioBase64;
                audioName = video.audioName;
                videoBase64 = video.videoBase64;
                videoName = video.videoName;
            } else {
                document.getElementById('videoTitle').value = '';
                document.getElementById('videoDescription').value = '';
                document.getElementById('videoTags').value = '';
                document.getElementById('videoDate').value = '';
                document.getElementById('videoTime').value = '';
                document.getElementById('videoText').value = '';
                document.getElementById('audioFileName').textContent = '';
                document.getElementById('videoFileName').textContent = '';
                document.getElementById('videoModalTitle').textContent = 'Yeni Video';
            }

            document.getElementById('videoModal').classList.add('active');
        }

        function closeVideoModal() {
            document.getElementById('videoModal').classList.remove('active');
            editingVideoId = null;
            audioBase64 = null;
            audioName = null;
            videoBase64 = null;
            videoName = null;
        }

        function handleAudioUpload(event) {
            const file = event.target.files[0];
            if (file) {
                audioName = file.name;
                document.getElementById('audioFileName').textContent = file.name;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    audioBase64 = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function handleVideoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                videoName = file.name;
                document.getElementById('videoFileName').textContent = file.name;
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    videoBase64 = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function editVideo(id) {
            openVideoModal(id);
        }

        function saveVideo() {
            const channel = getSelectedChannel();
            const title = document.getElementById('videoTitle').value.trim();
            const description = document.getElementById('videoDescription').value.trim();
            const tags = document.getElementById('videoTags').value.trim();
            const scheduleDate = document.getElementById('videoDate').value;
            const scheduleTime = document.getElementById('videoTime').value;
            const text = document.getElementById('videoText').value.trim();

            if (!title) {
                showToast('Ba≈ülƒ±k gerekli!', 'error');
                return;
            }

            if (editingVideoId) {
                const video = channel.videos.find(v => v.id === editingVideoId);
                const hadVideo = video.videoName;
                video.title = title;
                video.description = description;
                video.tags = tags;
                video.scheduleDate = scheduleDate;
                video.scheduleTime = scheduleTime;
                video.text = text;
                if (audioBase64) {
                    video.audioBase64 = audioBase64;
                    video.audioName = audioName;
                }
                if (videoBase64) {
                    video.videoBase64 = videoBase64;
                    video.videoName = videoName;
                    if (!hadVideo) {
                        video.videoApproved = false;
                    }
                }
            } else {
                channel.videos.push({
                    id: generateId(),
                    title: title,
                    description: description,
                    tags: tags,
                    scheduleDate: scheduleDate,
                    scheduleTime: scheduleTime,
                    text: text,
                    audioBase64: audioBase64,
                    audioName: audioName,
                    videoBase64: videoBase64,
                    videoName: videoName,
                    videoApproved: false,
                    completed: false,
                    createdAt: new Date().toISOString()
                });
            }

            saveData();
            closeVideoModal();
            renderContent();
            renderChannels();
            showToast(editingVideoId ? 'Video g√ºncellendi!' : 'Video eklendi!', 'success');
        }

        function deleteVideo(id) {
            if (!confirm('Bu videoyu silmek istediƒüinize emin misiniz?')) return;
            
            const channel = getSelectedChannel();
            channel.videos = channel.videos.filter(v => v.id !== id);
            saveData();
            renderContent();
            renderChannels();
            showToast('Video silindi!', 'success');
        }

        function toggleComplete(id) {
            const channel = getSelectedChannel();
            const video = channel.videos.find(v => v.id === id);
            video.completed = !video.completed;
            saveData();
            renderContent();
            showToast(video.completed ? 'Video tamamlandƒ±!' : 'Video geri alƒ±ndƒ±!', 'success');
        }

        function approveVideo(id) {
            const channel = getSelectedChannel();
            const video = channel.videos.find(v => v.id === id);
            video.videoApproved = true;
            saveData();
            renderContent();
            showToast('Video onaylandƒ±!', 'success');
        }

        function downloadAudio(id) {
            const channel = getSelectedChannel();
            const video = channel.videos.find(v => v.id === id);
            if (video.audioBase64) {
                const link = document.createElement('a');
                link.href = video.audioBase64;
                link.download = video.audioName || 'audio.mp3';
                link.click();
                showToast('Ses dosyasƒ± indiriliyor!', 'success');
            }
        }

        function openDefaultsModal() {
            const channel = getSelectedChannel();
            document.getElementById('defaultText').value = channel.defaults.text || '';
            document.getElementById('defaultsModal').classList.add('active');
        }

        function closeDefaultsModal() {
            document.getElementById('defaultsModal').classList.remove('active');
        }

        function saveDefaults() {
            const channel = getSelectedChannel();
            channel.defaults = {
                text: document.getElementById('defaultText').value.trim()
            };
            saveData();
            closeDefaultsModal();
            renderContent();
            showToast('Sabitler kaydedildi!', 'success');
        }

        function exportData() {
            const exportObj = JSON.parse(JSON.stringify(data));
            // Remove large base64 data for smaller export
            exportObj.channels.forEach(channel => {
                channel.videos.forEach(video => {
                    if (video.audioBase64) {
                        video.hasAudio = true;
                        delete video.audioBase64;
                    }
                    if (video.videoBase64) {
                        video.hasVideo = true;
                        delete video.videoBase64;
                    }
                });
            });
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'youtube-shorts-data.json';
            a.click();
            URL.revokeObjectURL(url);
            showToast('Veriler dƒ±≈üa aktarƒ±ldƒ±!', 'success');
        }

        function importDataClick() {
            document.getElementById('importFile').click();
        }

        function importData(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const imported = JSON.parse(e.target.result);
                        if (imported.channels) {
                            data = imported;
                            saveData();
                            renderChannels();
                            if (data.selectedChannel) {
                                renderContent();
                            } else if (data.channels.length > 0) {
                                selectChannel(data.channels[0].id);
                            } else {
                                renderEmptyState();
                            }
                            showToast('Veriler i√ße aktarƒ±ldƒ±!', 'success');
                        } else {
                            showToast('Ge√ßersiz dosya formatƒ±!', 'error');
                        }
                    } catch (err) {
                        showToast('Dosya okunamadƒ±!', 'error');
                    }
                };
                reader.readAsText(file);
            }
        }

        function generateId() {
            return Math.random().toString(36).substr(2, 9);
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function formatDate(dateStr) {
            if (!dateStr) return '';
            const date = new Date(dateStr);
            return date.toLocaleDateString('tr-TR', { day: '2-digit', month: '2-digit', year: 'numeric' });
        }

        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `
                <span class="toast-icon">${type === 'success' ? '‚úì' : '‚ö†'}</span>
                <span>${escapeHtml(message)}</span>
            `;
            container.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        init();
    </script>
</body>
</html>
